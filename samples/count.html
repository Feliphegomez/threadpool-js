<!DOCTYPE html>
<html>
    <head>
        <title>Asynchronous counting</title>
        <script type="text/javascript" src="../threadpool.js"></script>
    </head>
    <body>
        <p id="output"></p>
        <script type="text/javascript">
            var workerFunction = function (param, done) {
                done("<p>No: "+param+"</p>");
            };

            var tp = new ThreadPool();
            for(var no=1; no<20; no++) {
                tp.run(workerFunction, no, function(result) {
                    document.getElementById('output').innerHTML += result;
                });
            }
        </script>
    </body>
</html>
