<!DOCTYPE html>
<html>
    <head>
        <title>Asynchronous counting</title>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script type="text/javascript" src="../threadpool.min.js"></script>
        <style type="text/css">
          body {
            font: 12pt Arial, sans-serif;
            margin: 4% 6%;
          }
        </style>
    </head>
    <body>
        <h1>Counting asynchronously from 1 to 19...</h1>
        <p id="output"></p>

        <script type="text/javascript">
            var workerFunction = function (param, done) {
                done("No: " + param);
            };

            var pool = new ThreadPool();

            for(var no = 1; no < 20; no++) {
                pool.run(workerFunction, no, function (text) {
                    $('#output').append(
                        $('<p></p>').text(text)
                    );
                });
            }
        </script>
    </body>
</html>
